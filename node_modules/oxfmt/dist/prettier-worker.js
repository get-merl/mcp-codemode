import { workerData } from "node:worker_threads";

//#region src-js/prettier-worker.ts
let prettierCache;
const [, { prettierConfig }] = workerData;
async function formatEmbeddedCode({ parser, code }) {
	if (!prettierCache) prettierCache = await import("./prettier-BAX-9y1Y.js");
	return prettierCache.format(code, {
		...prettierConfig,
		parser
	}).then((formatted) => formatted.trimEnd()).catch(() => code);
}
async function formatFile({ parserName, fileName, code }) {
	if (!prettierCache) prettierCache = await import("./prettier-BAX-9y1Y.js");
	return prettierCache.format(code, {
		...prettierConfig,
		parser: parserName,
		filepath: fileName
	});
}

//#endregion
export { formatEmbeddedCode, formatFile };